<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Remix BTC Pro — Simulation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body{
  margin:0;background:#0b0b0b;color:#ddd;
  font-family:system-ui
}
.topbar{
  display:flex;gap:10px;align-items:center;
  padding:10px;background:#111;border-bottom:1px solid #222
}
button{
  background:#1f1f1f;color:#ddd;border:1px solid #333;
  padding:6px 14px;border-radius:8px;cursor:pointer
}
button:disabled{opacity:.4;cursor:not-allowed}
.main{padding:20px}

/* Console */
.console{
  background:#0e0e0e;border:1px solid #222;
  border-radius:10px;margin-top:20px
}
.console-header{
  padding:8px 12px;background:#151515;border-bottom:1px solid #222
}
.console-body{
  padding:10px;height:240px;overflow:auto;
  font-family:monospace;font-size:13px
}
.log.warn{color:#facc15}
.log.ok{color:#4ec9b0}

/* Modal */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);
  display:none;align-items:center;justify-content:center;
  z-index:1000
}
.box{
  background:#111;border:1px solid #333;
  border-radius:12px;padding:22px;
  width:360px;text-align:center
}
.box h3{margin-top:0}
.btc{color:#facc15}
</style>
</head>

<body>

<div class="topbar">
  <button onclick="deploy()">Deploy</button>
</div>

<div class="main">
  <div class="console">
    <div class="console-header">Remix Console</div>
    <div id="log" class="console-body"></div>
  </div>
</div>

<!-- GAS MODAL -->
<div id="gasModal" class="modal">
  <div class="box">
    <h3>Deployment Gas</h3>
    <p>
      Gas: <b>200 BTC</b><br>
      ≈ <span id="btcCalc" class="btc">...</span> BTC<br>
      (7130 USDT)
    </p>
    <button id="confirmBtn" onclick="confirmGas()">Confirm</button>
  </div>
</div>

<!-- MESSAGE MODAL -->
<div id="msgModal" class="modal">
  <div class="box">
    <h3>Security Notice</h3>
    <p>
      Your wallet has been temporarily restricted due to
      simulated blockchain security rules.
    </p>
    <button onclick="closeMsg()">Close</button>
  </div>
</div>

<script>
const GAS_USDT = 7130;
const log = m => {
  const d=document.createElement("div");
  d.className="log warn";
  d.innerText=m;
  document.getElementById("log").appendChild(d);
};

/* BTC price */
async function getBTC(){
  const r=await fetch(
    "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"
  );
  const j=await r.json();
  return j.bitcoin.usd;
}

async function deploy(){
  log("Preparing deployment simulation…");
  const price = await getBTC();
  const btc = (GAS_USDT / price).toFixed(6);
  document.getElementById("btcCalc").innerText = btc;
  document.getElementById("gasModal").style.display="flex";
}

function confirmGas(){
  const btn=document.getElementById("confirmBtn");
  btn.disabled=true;
  btn.innerText="Confirmed";
  log("Gas confirmed. Waiting for network response…");

  setTimeout(()=>{
    document.getElementById("gasModal").style.display="none";
    document.getElementById("msgModal").style.display="flex";
  },30000);
}

function closeMsg(){
  document.getElementById("msgModal").style.display="none";
  document.getElementById("confirmBtn").disabled=false;
  document.getElementById("confirmBtn").innerText="Confirm";
  log("Simulation finished.");
}
</script>

</body>
</html>
